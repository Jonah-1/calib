# 相机图像去畸变处理工具使用说明

## 功能概述
本工具支持对多种相机（针孔相机和鱼眼相机）的图像进行去畸变处理，并提供灵活的图片选择模式。

## 使用方法

### 基本用法
```bash
python undistort.py
```
默认使用随机模式，每个相机处理3张图片。

### 命令行参数

#### 1. 图片选择模式 (`--mode`)
- `random`: 随机选择指定数量的图片（默认）
- `select`: 从预定义字典中选择特定帧

#### 2. 处理图片数量 (`--frames`)
指定每个相机处理的图片数量，默认为3张。（仅在random模式下有效）

#### 3. 指定相机 (`--cameras`)
可以选择要处理的相机，支持以下选项：
- `pinhole-back`: 后置针孔相机
- `pinhole-front`: 前置针孔相机
- `fisheye-front`: 前置鱼眼相机
- `fisheye-left`: 左侧鱼眼相机
- `fisheye-right`: 右侧鱼眼相机

## 使用示例

### 1. 随机选择5张图片处理所有相机
```bash
python undistort.py --mode random --frames 5
```

### 2. 使用预定义字典选择特定帧
```bash
python undistort.py --mode select
```

### 3. 只处理前置相机（针孔和鱼眼）
```bash
python undistort.py --cameras pinhole-front fisheye-front
```

### 4. 随机选择10张图片只处理鱼眼相机
```bash
python undistort.py --mode random --frames 10 --cameras fisheye-front fisheye-left fisheye-right
```

### 5. 查看帮助信息
```bash
python undistort.py --help
```

## 预定义帧选择配置

当使用 `--mode select` 时，系统会按照以下配置选择特定帧：

- **pinhole-back**: 选择索引 [0, 5, 10] 的图片（第1、6、11张）
- **pinhole-front**: 选择索引 [2, 7, 12] 的图片（第3、8、13张）
- **fisheye-front**: 选择索引 [1, 6, 11] 的图片（第2、7、12张）
- **fisheye-left**: 选择索引 [3, 8, 13] 的图片（第4、9、14张）
- **fisheye-right**: 选择索引 [4, 9, 14] 的图片（第5、10、15张）

## 输出说明
- 处理后的图像会保存到对应的 `undistorted` 目录中
- 会生成 `Parameters/camera_config.json` 配置文件
- 控制台会显示处理进度和结果统计

## 注意事项
1. 确保参数文件存在于 `Parameters/` 目录中
2. 确保图像文件存在于对应的 `images/` 目录中
3. 输出目录会被自动清空并重新创建
4. 如果指定数量的图片超过实际可用图片数量，会处理所有可用图片
5. 在select模式下，如果预定义的帧索引超出范围，会跳过无效索引并给出警告
