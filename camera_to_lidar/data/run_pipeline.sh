#!/bin/bash
# 该脚本用于自动化处理从数据提取到文件整理的全流程。
# 请在 camera_to_lidar/data/ 目录下运行此脚本。

# set -e: 如果任何命令失败（返回非零退出状态），脚本将立即退出。
set -e

echo "=================================================="
echo " STEP 1: 从 ROS bags 中提取同步的点云和图像..."
echo "=================================================="
python3 save_sync.py

echo -e "\n=================================================="
echo " STEP 2: 对提取的图像进行去畸变处理..."
echo "=================================================="
python3 undistort.py

echo -e "\n=================================================="
echo " STEP 3: 整理文件到 auto-calib 和 mannual-calib 目录..."
echo "=================================================="
python3 organize_files.py

echo -e "\n=================================================="
echo " ✅  处理流程全部完成！"
echo "=================================================="
